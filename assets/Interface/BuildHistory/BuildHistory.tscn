[gd_scene load_steps=43 format=2]

[ext_resource path="res://Assets/Paper1.png" type="Texture" id=1]
[ext_resource path="res://Interface/FocusGrabbingControl.gd" type="Script" id=2]
[ext_resource path="res://Interface/EmptyStylebox.tres" type="StyleBox" id=3]
[ext_resource path="res://Assets/Fonts/LibreBaskerville-Regular.ttf" type="DynamicFontData" id=4]
[ext_resource path="res://Interface/BuildHistory/BuildEntry.tscn" type="PackedScene" id=5]
[ext_resource path="res://Interface/Options/OptionsFont.tres" type="DynamicFont" id=6]
[ext_resource path="res://Core/Inventory.tscn" type="PackedScene" id=7]
[ext_resource path="res://Assets/Fonts/GlassAntiqua-Regular.ttf" type="DynamicFontData" id=8]
[ext_resource path="res://Assets/Patch3.png" type="Texture" id=9]
[ext_resource path="res://Utility/LocalizedControl.gd" type="Script" id=10]
[ext_resource path="res://Assets/Banner1.png" type="Texture" id=11]
[ext_resource path="res://Interface/BuildHistory/BattleButton_disabled.png" type="Texture" id=12]
[ext_resource path="res://Interface/FocusGrabbingTextureButton.gd" type="Script" id=13]
[ext_resource path="res://Interface/ArrowButton_up.png" type="Texture" id=14]
[ext_resource path="res://Interface/ArrowButton_up_hovered.png" type="Texture" id=15]
[ext_resource path="res://Interface/BuildHistory/BuildHistory.gd" type="Script" id=16]
[ext_resource path="res://Items/Particles/SubtractiveCanvasItem.material" type="Material" id=17]
[ext_resource path="res://Interface/ScrollbarTheme.tres" type="Theme" id=18]
[ext_resource path="res://Interface/BuildHistory/RoundResultCursor.png" type="Texture" id=19]
[ext_resource path="res://Assets/Fonts/LibreBaskerville-Bold.ttf" type="DynamicFontData" id=21]
[ext_resource path="res://Interface/Tooltips/ImageFont.tres" type="BitmapFont" id=22]
[ext_resource path="res://Interface/HintButton.png" type="Texture" id=23]
[ext_resource path="res://Interface/HintButton_hovered.png" type="Texture" id=24]
[ext_resource path="res://Interface/PopupBox.png" type="Texture" id=25]
[ext_resource path="res://Interface/DraggableScrollContainer.gd" type="Script" id=26]
[ext_resource path="res://Interface/BuildHistory/BattleButton.png" type="Texture" id=27]
[ext_resource path="res://Interface/BuildHistory/BattleButton_hovered.png" type="Texture" id=28]
[ext_resource path="res://Assets/Combat.png" type="Texture" id=29]
[ext_resource path="res://Assets/Copy.png" type="Texture" id=30]
[ext_resource path="res://Interface/Tooltips/TooltipBase2.png" type="Texture" id=31]
[ext_resource path="res://Interface/Searchbar.tscn" type="PackedScene" id=32]
[ext_resource path="res://Assets/Buffs/Block.png" type="Texture" id=33]

[sub_resource type="Animation" id=1]
resource_name = "Close"
length = 0.3
tracks/0/type = "value"
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.3 ),
"transitions": PoolRealArray( 1.86607, 0.535887 ),
"update": 0,
"values": [ Vector2( 0, 0 ), Vector2( 2200, 0 ) ]
}
tracks/1/type = "method"
tracks/1/path = NodePath(".")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0.3 ),
"transitions": PoolRealArray( 1 ),
"values": [ {
"args": [  ],
"method": "closed"
} ]
}

[sub_resource type="Animation" id=2]
resource_name = "Open"
length = 0.3
tracks/0/type = "value"
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 0.3 ),
"transitions": PoolRealArray( 0.535887, 1 ),
"update": 0,
"values": [ Vector2( 2200, 0 ), Vector2( 0, 0 ) ]
}
tracks/1/type = "method"
tracks/1/path = NodePath(".")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0.3 ),
"transitions": PoolRealArray( 1 ),
"values": [ {
"args": [  ],
"method": "opened"
} ]
}

[sub_resource type="Animation" id=5]
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath(".:position")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector2( 0, 0 ) ]
}

[sub_resource type="DynamicFont" id=3]
size = 26
outline_size = 3
outline_color = Color( 0.235294, 0.14902, 0.113725, 1 )
use_filter = true
font_data = ExtResource( 4 )

[sub_resource type="DynamicFont" id=7]
size = 24
outline_size = 3
outline_color = Color( 0.235294, 0.14902, 0.113725, 1 )
use_filter = true
font_data = ExtResource( 21 )

[sub_resource type="DynamicFont" id=4]
size = 50
outline_size = 3
outline_color = Color( 0.27451, 0.211765, 0.14902, 1 )
use_filter = true
extra_spacing_top = -10
font_data = ExtResource( 8 )

[sub_resource type="DynamicFont" id=8]
size = 22
outline_size = 2
outline_color = Color( 0.235294, 0.14902, 0.113725, 1 )
use_filter = true
extra_spacing_bottom = -8
font_data = ExtResource( 4 )

[sub_resource type="DynamicFont" id=13]
size = 30
outline_size = 3
outline_color = Color( 0.235294, 0.14902, 0.113725, 1 )
use_filter = true
font_data = ExtResource( 4 )

[sub_resource type="DynamicFont" id=14]
size = 26
outline_size = 3
outline_color = Color( 0.235294, 0.14902, 0.113725, 1 )
use_filter = true
extra_spacing_top = 6
font_data = ExtResource( 4 )

[sub_resource type="StyleBoxFlat" id=12]
content_margin_left = 8.0
content_margin_right = 10.0
content_margin_top = 0.0
content_margin_bottom = 0.0
bg_color = Color( 0.376471, 0.227451, 0.160784, 0.305882 )
draw_center = false
border_width_left = 3
border_width_top = 3
border_width_right = 3
border_width_bottom = 4
border_color = Color( 0.109804, 0.0666667, 0.0470588, 0.819608 )
corner_radius_top_left = 1
corner_radius_top_right = 1
corner_radius_bottom_right = 1
corner_radius_bottom_left = 1

[node name="BuildHistory" type="Node2D"]
pause_mode = 2
script = ExtResource( 16 )

[node name="Paper1" type="Sprite" parent="."]
position = Vector2( -59, -41 )
scale = Vector2( 1.05625, 1.075 )
texture = ExtResource( 1 )
centered = false
__meta__ = {
"_edit_lock_": true
}

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
anims/Close = SubResource( 1 )
anims/Open = SubResource( 2 )
anims/RESET = SubResource( 5 )

[node name="Build" type="Node2D" parent="."]

[node name="NinePatchRect" type="NinePatchRect" parent="Build"]
modulate = Color( 0.0563401, 0.0603966, 0.0644531, 1 )
material = ExtResource( 17 )
margin_left = 1066.0
margin_top = 177.0
margin_right = 1861.0
margin_bottom = 850.0
texture = ExtResource( 9 )
patch_margin_left = 8
patch_margin_top = 8
patch_margin_right = 7
patch_margin_bottom = 9

[node name="Items" type="Node2D" parent="Build"]
position = Vector2( 1074, 167 )
z_index = 3

[node name="Inventory" parent="Build/Items" instance=ExtResource( 7 )]
position = Vector2( 24, 90 )

[node name="Round" type="Label" parent="Build"]
margin_left = 1368.0
margin_top = 201.0
margin_right = 1556.0
margin_bottom = 237.0
grow_horizontal = 2
custom_colors/font_color = Color( 1, 0.92549, 0.831373, 1 )
custom_fonts/font = SubResource( 3 )
text = "Round 1/18"
align = 1
script = ExtResource( 10 )

[node name="PreviousRound" type="TextureButton" parent="Build"]
margin_left = 1300.0
margin_top = 241.0
margin_right = 1350.0
margin_bottom = 291.0
rect_rotation = -90.0
texture_normal = ExtResource( 14 )
texture_pressed = ExtResource( 15 )
texture_hover = ExtResource( 15 )
expand = true
stretch_mode = 5
script = ExtResource( 13 )

[node name="NextRound" type="TextureButton" parent="Build"]
margin_left = 1627.0
margin_top = 190.0
margin_right = 1677.0
margin_bottom = 240.0
rect_rotation = 90.0
texture_normal = ExtResource( 14 )
texture_pressed = ExtResource( 15 )
texture_hover = ExtResource( 15 )
expand = true
stretch_mode = 5
script = ExtResource( 13 )

[node name="GoldValue" type="RichTextLabel" parent="Build"]
margin_left = 1243.0
margin_top = 862.0
margin_right = 1716.0
margin_bottom = 908.0
grow_horizontal = 2
rect_min_size = Vector2( 0, 40 )
rect_clip_content = false
mouse_filter = 2
custom_colors/default_color = Color( 1, 0.92549, 0.831373, 1 )
custom_fonts/italics_font = ExtResource( 22 )
custom_fonts/normal_font = SubResource( 7 )
bbcode_enabled = true
bbcode_text = "[center]Inventory value: {gold} $gold"
text = "Inventory value: {gold} $gold"
scroll_active = false
script = ExtResource( 10 )
translationKey = "UI_GoldCounter"
prefix = "[center]"

[node name="Battle" type="Label" parent="Build"]
margin_left = 1727.0
margin_top = 127.0
margin_right = 1846.0
margin_bottom = 161.0
grow_horizontal = 2
custom_colors/font_color = Color( 1, 0.92549, 0.831373, 1 )
custom_fonts/font = SubResource( 3 )
text = "Battle"
align = 1
script = ExtResource( 10 )
translationKey = "BUTTON_FightWithBuild"

[node name="FightButton" type="TextureButton" parent="Build"]
margin_left = 1736.0
margin_top = 157.0
margin_right = 1836.0
margin_bottom = 257.0
mouse_default_cursor_shape = 2
texture_normal = ExtResource( 27 )
texture_hover = ExtResource( 28 )
texture_disabled = ExtResource( 12 )
expand = true
stretch_mode = 5
script = ExtResource( 13 )
showOnHover = NodePath("../Battle")

[node name="CopyBuildUI" type="Node2D" parent="."]

[node name="CopyBuildButton" type="TextureButton" parent="CopyBuildUI"]
margin_left = 1073.0
margin_top = 165.0
margin_right = 1153.0
margin_bottom = 245.0
mouse_default_cursor_shape = 2
texture_normal = ExtResource( 30 )
expand = true
script = ExtResource( 13 )

[node name="FightWithClipBoardButton" type="TextureButton" parent="CopyBuildUI"]
margin_left = 1161.0
margin_top = 162.0
margin_right = 1241.0
margin_bottom = 242.0
mouse_default_cursor_shape = 2
texture_normal = ExtResource( 29 )
expand = true
script = ExtResource( 13 )

[node name="PlayerSelectLabel" type="Label" parent="CopyBuildUI"]
visible = false
margin_left = 1079.0
margin_top = 127.0
margin_right = 1198.0
margin_bottom = 161.0
grow_horizontal = 2
custom_colors/font_color = Color( 1, 0.92549, 0.831373, 1 )
custom_fonts/font = SubResource( 3 )
text = "Play as"
align = 1
script = ExtResource( 10 )
translationKey = ""

[node name="PlayerSelectButton" type="TextureButton" parent="CopyBuildUI"]
visible = false
margin_left = 1088.0
margin_top = 157.0
margin_right = 1188.0
margin_bottom = 257.0
mouse_default_cursor_shape = 2
texture_normal = ExtResource( 33 )
texture_hover = ExtResource( 33 )
texture_disabled = ExtResource( 12 )
expand = true
stretch_mode = 5
script = ExtResource( 13 )
showOnHover = NodePath("../PlayerSelectLabel")

[node name="CopyPopUI" type="Node2D" parent="CopyBuildUI"]
visible = false
position = Vector2( 1462, 80 )

[node name="Panel" type="NinePatchRect" parent="CopyBuildUI/CopyPopUI"]
margin_left = -144.0
margin_top = -60.0
margin_right = 156.0
margin_bottom = 139.0
texture = ExtResource( 31 )
patch_margin_left = 60
patch_margin_top = 123
patch_margin_right = 80
patch_margin_bottom = 76
axis_stretch_horizontal = 1
axis_stretch_vertical = 1

[node name="Header" type="Label" parent="CopyBuildUI/CopyPopUI"]
margin_left = -97.0
margin_top = -10.0
margin_right = 97.0
margin_bottom = 30.0
grow_horizontal = 2
custom_colors/font_color = Color( 1, 0.92549, 0.831373, 0.8 )
custom_fonts/font = SubResource( 3 )
text = "Build Code"
align = 1
script = ExtResource( 10 )
translationKey = ""

[node name="BuildString" type="Label" parent="CopyBuildUI/CopyPopUI"]
margin_left = -121.0
margin_top = 30.0
margin_right = 122.0
margin_bottom = 64.0
grow_horizontal = 2
custom_colors/font_color = Color( 1, 0.92549, 0.831373, 1 )
custom_fonts/font = SubResource( 13 )
text = "01"
align = 1
script = ExtResource( 10 )

[node name="FightPopUI" type="Node2D" parent="CopyBuildUI"]
visible = false
position = Vector2( 1462, 80 )

[node name="Panel" type="NinePatchRect" parent="CopyBuildUI/FightPopUI"]
margin_left = -200.0
margin_top = -60.0
margin_right = 200.0
margin_bottom = 80.0
texture = ExtResource( 31 )
patch_margin_left = 60
patch_margin_top = 123
patch_margin_right = 80
patch_margin_bottom = 76
axis_stretch_horizontal = 1
axis_stretch_vertical = 1

[node name="Header" type="Label" parent="CopyBuildUI/FightPopUI"]
margin_left = -120.0
margin_top = -10.0
margin_right = 120.0
margin_bottom = 30.0
grow_horizontal = 2
custom_colors/font_color = Color( 1, 0.92549, 0.831373, 1 )
custom_fonts/font = SubResource( 3 )
text = "Fight Rivals"
align = 1
script = ExtResource( 10 )
translationKey = ""

[node name="TextEdit" type="LineEdit" parent="CopyBuildUI/FightPopUI"]
margin_left = -130.0
margin_top = 30.0
margin_right = 56.0
margin_bottom = 70.0
mouse_default_cursor_shape = 2
custom_colors/font_color = Color( 1, 0.92549, 0.831373, 1 )
custom_fonts/font = SubResource( 14 )
custom_styles/normal = SubResource( 12 )
text = "01"
align = 1
max_length = 10
context_menu_enabled = false
clear_button_enabled = true

[node name="PasteHint" type="Label" parent="CopyBuildUI/FightPopUI"]
margin_left = -120.0
margin_top = -10.0
margin_right = 120.0
margin_bottom = 30.0
grow_horizontal = 2
custom_colors/font_color = Color( 1, 0.92549, 0.831373, 0.8 )
custom_fonts/font = SubResource( 3 )
text = "Enter Code"
align = 1
script = ExtResource( 10 )

[node name="FightButton" type="TextureButton" parent="CopyBuildUI/FightPopUI"]
margin_left = 80.0
margin_top = 25.0
margin_right = 130.0
margin_bottom = 75.0
mouse_default_cursor_shape = 2
texture_normal = ExtResource( 27 )
texture_hover = ExtResource( 28 )
expand = true
stretch_mode = 5
script = ExtResource( 13 )
showOnHover = NodePath("../Header")

[node name="ScrollContainer" type="ScrollContainer" parent="."]
margin_left = 44.0
margin_top = 174.0
margin_right = 1056.0
margin_bottom = 993.0
mouse_filter = 1
theme = ExtResource( 18 )
script = ExtResource( 26 )

[node name="VBoxContainer" type="VBoxContainer" parent="ScrollContainer"]
margin_right = 1012.0
margin_bottom = 819.0
mouse_filter = 2
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="BuildEntry" parent="ScrollContainer/VBoxContainer" instance=ExtResource( 5 )]
margin_right = 1012.0
script = null

[node name="Cursor" type="Sprite" parent="ScrollContainer/VBoxContainer"]
position = Vector2( 468, 45 )
scale = Vector2( 0.467391, 0.495283 )
z_index = 1
texture = ExtResource( 19 )
centered = false

[node name="NinePatchRect6" type="NinePatchRect" parent="."]
modulate = Color( 0.0563401, 0.0603966, 0.0644531, 1 )
material = ExtResource( 17 )
margin_left = 1685.0
margin_top = 969.0
margin_right = 1837.0
margin_bottom = 1017.0
texture = ExtResource( 9 )
patch_margin_left = 8
patch_margin_top = 8
patch_margin_right = 7
patch_margin_bottom = 9

[node name="CloseButton" type="Button" parent="."]
margin_left = 1673.0
margin_top = 965.0
margin_right = 1845.0
margin_bottom = 1023.0
mouse_default_cursor_shape = 2
custom_colors/font_color_disabled = Color( 1, 0.92549, 0.831373, 1 )
custom_colors/font_color_focus = Color( 1, 0.890196, 0.215686, 1 )
custom_colors/font_color = Color( 1, 0.92549, 0.831373, 1 )
custom_colors/font_color_hover = Color( 1, 0.890196, 0.215686, 1 )
custom_colors/font_color_pressed = Color( 1, 0.92549, 0.831373, 1 )
custom_fonts/font = ExtResource( 6 )
custom_styles/focus = ExtResource( 3 )
text = "Close"
flat = true
script = ExtResource( 2 )
translationKey = "BUTTON_Close"

[node name="Banner1" type="Sprite" parent="."]
modulate = Color( 1, 0.890196, 0.74902, 0.862745 )
position = Vector2( 951.5, 73.875 )
scale = Vector2( 0.608109, 0.682432 )
texture = ExtResource( 11 )

[node name="Header" type="Label" parent="."]
margin_left = 837.0
margin_top = 56.875
margin_right = 1074.0
margin_bottom = 116.875
grow_horizontal = 2
rect_min_size = Vector2( 163, 0 )
custom_colors/font_color = Color( 1, 0.92549, 0.831373, 1 )
custom_colors/font_color_shadow = Color( 0.235294, 0.14902, 0.113725, 1 )
custom_constants/shadow_offset_x = 0
custom_constants/shadow_offset_y = 0
custom_fonts/font = SubResource( 4 )
text = "History"
align = 1
script = ExtResource( 10 )
translationKey = "BUTTON_BuildHistory"

[node name="Searchbar" parent="." instance=ExtResource( 32 )]
visible = false
margin_left = 68.0
margin_top = 85.0
margin_right = 358.0
margin_bottom = 137.0

[node name="HintButton" type="TextureButton" parent="."]
margin_left = 34.0
margin_top = 977.0
margin_right = 99.0
margin_bottom = 1045.0
mouse_default_cursor_shape = 2
texture_normal = ExtResource( 23 )
texture_hover = ExtResource( 24 )
expand = true
script = ExtResource( 13 )
showOnHover = NodePath("../Hints")

[node name="Hints" type="Node2D" parent="."]
position = Vector2( 162, 968 )
z_index = 10

[node name="NinePatchRect" type="NinePatchRect" parent="Hints"]
show_behind_parent = true
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = -84.0
margin_top = -61.0
margin_right = 848.0
margin_bottom = 116.0
texture = ExtResource( 25 )
patch_margin_left = 45
patch_margin_top = 47
patch_margin_right = 45
patch_margin_bottom = 44
axis_stretch_horizontal = 1
axis_stretch_vertical = 1

[node name="HoverHint" type="Label" parent="Hints"]
margin_left = -44.0
margin_top = -11.0
margin_right = 790.0
margin_bottom = 25.0
grow_horizontal = 2
custom_colors/font_color = Color( 1, 0.92549, 0.831373, 1 )
custom_colors/font_color_shadow = Color( 0.235294, 0.14902, 0.113725, 1 )
custom_constants/shadow_offset_x = 1
custom_constants/shadow_offset_y = 1
custom_fonts/font = SubResource( 8 )
text = "Press the round buttons to view the backpack in specific rounds."
align = 1
script = ExtResource( 10 )
translationKey = "HINT_RoundButton"

[node name="ResetHint" type="Label" parent="Hints"]
anchor_top = 0.5
anchor_bottom = 0.5
margin_left = -41.0
margin_top = 31.0
margin_right = 787.0
margin_bottom = 57.0
grow_horizontal = 2
custom_colors/font_color = Color( 1, 0.92549, 0.831373, 1 )
custom_colors/font_color_shadow = Color( 0.235294, 0.14902, 0.113725, 1 )
custom_constants/shadow_offset_x = 1
custom_constants/shadow_offset_y = 1
custom_fonts/font = SubResource( 8 )
text = "Major patches may reset your history."
align = 1
script = ExtResource( 10 )
translationKey = "HINT_HistoryReset"

[connection signal="search_text_changed" from="Searchbar" to="." method="onSearchTextChanged"]
[connection signal="pressed" from="Build/PreviousRound" to="." method="onPreviousRoundPressed"]
[connection signal="pressed" from="Build/NextRound" to="." method="onNextRoundPressed"]
[connection signal="pressed" from="Build/FightButton" to="." method="fightBuild"]
[connection signal="pressed" from="CloseButton" to="." method="close"]
[connection signal="pressed" from="CopyBuildUI/CopyBuildButton" to="." method="onCopyBuildPressed"]
[connection signal="pressed" from="CopyBuildUI/FightWithClipBoardButton" to="." method="fightBuildWithClipboard"]
[connection signal="pressed" from="CopyBuildUI/PlayerSelectButton" to="." method="onSelectPlayerPressed"]
[connection signal="pressed" from="CopyBuildUI/FightPopUI/FightButton" to="." method="onFightPopupFightPressed"]
