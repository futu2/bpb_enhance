# 背包乱斗增强工具

本项目在不影响游戏平衡与公平性的前提下，优化《背包乱斗》游戏体验，并帮助您方便快捷地在游戏中测试摆盘与对战强度。

## 适配版本
- 游戏版本：1.0.10
- MOD 版本：0.6.2

## 主要功能

### 1. 斗蛐蛐
在历史记录界面使用。您的阵容数据会被上传到云端，支持多人分享阵容码进行对战！
- **复制按钮**：生成当前阵容的阵容码并复制到剪切板。
- **开战按钮**：自动粘贴剪切板的阵容码后开战。

### 2. 创造模式
在“自定义休闲模式”中选择创造模式进入：
- **快速获得物品**：右键点击“物品图鉴”中的物品，可直接添加到储物箱。
- **一键跳转 18 回合**：按下 **`J`** 键，可一键跳转到 18 回合并给予金币。
- **阵容导入**：按下 **`M`** 键，可导入剪切板中的阵容（若想基于现有阵容编辑，可先复制阵容码到剪切板）。

### 3. 编辑功能（抢先体验）
该功能为官方正在开发的“编辑模式”预览版，本 MOD 提前集成，便于测试摆盘与细节调整。
- **模式切换**：默认 / 背包层 / 物品层。
- **背包层**：移动/旋转时仅影响背包，不带动背包内物品。
- **物品层**：移动/旋转时仅影响物品，不影响背包位置。

<br>

## 进阶功能
这些功能主要面向硬核玩家、好奇心强者或强迫症者，默认通常关闭，需要手动开启。

### 1. 对手段位显示
- **开关快捷键**：**`Ctrl+Shift+S`**（默认关闭）。
- **功能**：开启后，在战斗界面右下角（版本号上方）显示当前对手的段位信息。

### 2. 物品朝向规范化
- **自动规范**：在商店界面轻点“推送到仓库”按钮（箭头图标），自动把对称物品和背包旋转到规范方向。

### 3. 数值显示优化
- **物品耐耗显示精确化**：物品的每秒耐耗显示精确到两位小数（原先一位）。
- **商店稀有度显示优化**：商店显示的物品稀有度几率现在会包含会员卡的影响。

### 4. 进池子检验
- **开关快捷键**：**`Ctrl+Shift+C`**（默认关闭）。
- **状态显示**：显示近期对局在当前池子中的状态。
    - **绿色版本号**：正在池中。
    - **红色版本号**：在池中但非法，不会被任何人排到。
    - **白色版本号**：不在池中。
- **注意**：完成一局对局之后记得按 **`F5`** 拉取最新的对手池，否则新入池的对局不会显示。

### 5. 重赛持久化
- **功能**：短时间内匹配过的对手会被持久化记录，避免短时间重开游戏之后重复匹配相同的对手。

## 安装与使用

1.  在 Release 中下载最新版本的 `bpb-enhance-vX.Y.Z.exe`。
2.  运行程序，选择游戏路径（通常会自动识别，也可手动选择）。

![安装软件截图](./pics/image.png)

3.  点击“应用”按钮。
4.  重启游戏使更改生效。
5.  如需卸载，通过 Steam 客户端的“属性-已安装文件-验证游戏完整性”即可还原。

## 参考资料

- [安装教程](https://www.bilibili.com/video/BV1MFmUBeEK2)
- [斗蛐蛐功能演示](https://www.bilibili.com/video/BV1ngq5BYE79)
